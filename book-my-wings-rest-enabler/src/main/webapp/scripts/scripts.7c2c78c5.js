"use strict";angular.module("clientTestApp",["ngRoute","ui.calendar","ui.bootstrap"]).config(["$routeProvider","$httpProvider",function(a,b){b.responseInterceptors.push("Auth"),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/bookingCalendar",{templateUrl:"views/bookingcalendar.html",controller:"BookingcalendarCtrl"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl"}).otherwise({redirectTo:"/"}),b.defaults.useXDomain=!0}]),angular.module("clientTestApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("clientTestApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("clientTestApp").controller("CalendarcontrollerCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("clientTestApp").controller("BookingcalendarCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var b=new Date,c=b.getDate(),d=b.getMonth(),e=b.getFullYear();a.changeTo="German",a.agendaDay="Day",a.agendaWeek="Week",a.agendaMonth="Month",a.events=[{title:"All Day Event",start:new Date(e,d,1)},{title:"Long Event",start:new Date(e,d,c-5),end:new Date(e,d,c-2)},{id:999,title:"Repeating Event",start:new Date(e,d,c-3,16,0),allDay:!1},{id:999,title:"Repeating Event",start:new Date(e,d,c+4,16,0),allDay:!1},{title:"Birthday Party",start:new Date(e,d,c+1,19,0),end:new Date(e,d,c+1,22,30),allDay:!1},{title:"Click for Google",start:new Date(e,d,28),end:new Date(e,d,29),url:"http://google.com/"}],a.eventsF=function(b,c,d){d(a.events)},a.alertOnEventClick=function(b){a.alertMessage=b.title+" was clicked "},a.alertOnDrop=function(b,c){a.alertMessage="Event Droped to make dayDelta "+c},a.alertOnResize=function(b,c,d){a.alertMessage="Event Resized to make dayDelta "+d},a.dayClick=function(b){a.currentDate=b,a.alertMessage="Please choose booking-time for "+$.datepicker.formatDate("dd.mm.yy",b)},a.addRemoveEventSource=function(a,b){var c=0;angular.forEach(a,function(d,e){a[e]===b&&(a.splice(e,1),c=1)}),0===c&&a.push(b)},a.addEvent=function(){alert("About to add booking: start: "+a.currentDate+"startTIme "+a.startTime)},a.remove=function(b){a.events.splice(b,1)},a.changeView=function(a,b){b.fullCalendar("changeView",a)},a.renderCalender=function(a){a&&a.fullCalendar("render")},a.uiConfig={calendar:{height:450,editable:!0,header:{left:"title",center:"",right:"today prev,next"},eventClick:a.alertOnEventClick,eventDrop:a.alertOnDrop,eventResize:a.alertOnResize,dayClick:a.dayClick,defaultView:"agendaWeek"}},a.uiConfig.calendar.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a.uiConfig.calendar.dayNamesShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a.changeTo="German",a.agendaDay="Day",a.agendaWeek="Week",a.agendaMonth="Month",a.eventSources=[a.events,a.eventSource,a.eventsF]}]).controller("TimpickerController",["$scope",function(a){a.startTime=new Date,a.startTime.setHours("8","00","0","0"),a.endTime=new Date,a.endTime.setHours("18","00","0","0"),a.hstep=1,a.mstep=30,a.ismeridian=!1,a.clear=function(){a.startTime=null}}]),angular.module("clientTestApp").controller("DropdowncontrollerCtrl",["$scope","$http",function(a,b){a.title="Please choose aircraft",a.status={isopen:!1},a.toggled=function(b){a.title=b,a.status.isopen=!a.status.isopen},b.get("http://localhost:8080/book-my-wings/rest/aircrafts?start=0&pageSize=100").success(function(b){a.aircrafts=b}).error(function(){})}]),angular.module("clientTestApp").factory("Base64",function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(b){var c,d,e,f,g,h="",i="",j="",k=0;do c=b.charCodeAt(k++),d=b.charCodeAt(k++),i=b.charCodeAt(k++),e=c>>2,f=(3&c)<<4|d>>4,g=(15&d)<<2|i>>6,j=63&i,isNaN(d)?g=j=64:isNaN(i)&&(j=64),h=h+a.charAt(e)+a.charAt(f)+a.charAt(g)+a.charAt(j),c=d=i="",e=f=g=j="";while(k<b.length);return h},decode:function(b){var c,d,e,f,g,h="",i="",j="",k=0,l=/[^A-Za-z0-9\+\/\=]/g;l.exec(b)&&alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");do e=a.indexOf(b.charAt(k++)),f=a.indexOf(b.charAt(k++)),g=a.indexOf(b.charAt(k++)),j=a.indexOf(b.charAt(k++)),c=e<<2|f>>4,d=(15&f)<<4|g>>2,i=(3&g)<<6|j,h+=String.fromCharCode(c),64!=g&&(h+=String.fromCharCode(d)),64!=j&&(h+=String.fromCharCode(i)),c=d=i="",e=f=g=j="";while(k<b.length);return h}}}),angular.module("clientTestApp").controller("AuthenticationCtrl",["$scope","$http",function(){}]),angular.module("clientTestApp").factory("Auth",["$q","$window","$location",function(a,b,c){return function(b){var d=function(a){return a},e=function(b){if(401===b.status||403===b.status){var d=c.path();c.url("/login?redir="+d)}return a.reject(b)};return b.then(d,e)}}]),angular.module("clientTestApp").controller("LoginCtrl",["$scope","$http","$location","Base64",function(a,b,c,d){a.login=function(a){b.defaults.headers.common.authorization="Basic "+d.encode(a.name+":"+a.pass);var e=c.search().redir;e&&(c.url(e),c.search("redir",""))}}]),angular.module("clientTestApp").directive("a",function(){return{restrict:"E",link:function(a,b,c){(c.ngClick||""===c.href||"#"===c.href)&&b.on("click",function(a){a.preventDefault()})}}});